(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{metadata:()=>m,name:()=>x,settings:()=>k});var o={};e.r(o),e.d(o,{metadata:()=>f,name:()=>j,settings:()=>C});var s={};e.r(s),e.d(s,{metadata:()=>B,name:()=>I,settings:()=>R});var l={};e.r(l),e.d(l,{metadata:()=>F,name:()=>V,settings:()=>A});var i={};e.r(i),e.d(i,{metadata:()=>O,name:()=>te,settings:()=>oe});var a={};e.r(a),e.d(a,{metadata:()=>le,name:()=>he,settings:()=>ye});var r={};e.r(r),e.d(r,{metadata:()=>be,name:()=>we,settings:()=>xe});const n=window.wp.blocks,c=window.wp.i18n,p=window.wp.primitives,d=window.ReactJSXRuntime,u=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M11.934 7.406a1 1 0 0 0 .914.594H19a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5h5.764a.5.5 0 0 1 .447.276l.723 1.63Zm1.064-1.216a.5.5 0 0 0 .462.31H19a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.764a2 2 0 0 1 1.789 1.106l.445 1.084ZM8.5 10.5h7V12h-7v-1.5Zm7 3.5h-7v1.5h7V14Z"})}),m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/archives","title":"Archives (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"Display a monthly archive of your posts.","keywords":[],"textdomain":"custom-post-type-widget-blocks","attributes":{"postType":{"type":"string","default":"post"},"displayAsDropdown":{"type":"boolean","default":false},"showPostCounts":{"type":"boolean","default":false},"archiveType":{"type":"string","enum":["yearly","monthly","weekly","daily"],"default":"monthly"},"order":{"type":"string","enum":["DESC","ASC"],"default":"DESC"}},"supports":{"align":["wide","full"],"html":false,"spacing":{"margin":true,"padding":true,"__experimentalDefaultControls":{"margin":false,"padding":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"interactivity":{"clientNavigation":true}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),g=window.wp.components,h=window.wp.blockEditor,y=window.wp.serverSideRender;var _=e.n(y);const b=window.wp.data,w=window.wp.coreData,{name:x}=m,k={icon:u,example:{},edit:function({attributes:e,setAttributes:t}){const{postType:o,showPostCounts:s,displayAsDropdown:l,archiveType:i,order:a}=e,{postTypes:r}=(0,b.useSelect)((e=>({postTypes:e(w.store).getPostTypes({per_page:-1})})),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.InspectorControls,{children:(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Archives settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,c.__)("Post Type","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("- Select -","custom-post-type-widget-blocks"),value:""},...(null!=r?r:[]).filter((e=>!!e.viewable&&!e.hierarchical&&"attachment"!==e.slug)).map((e=>({value:e.slug,label:e.name})))],value:o,onChange:e=>t({postType:e})}),(0,d.jsx)(g.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,c.__)("Archive Type","custom-post-type-widget-blocks"),options:[{value:"yearly",label:(0,c.__)("Yearly","custom-post-type-widget-blocks")},{value:"monthly",label:(0,c.__)("Monthly","custom-post-type-widget-blocks")},{value:"weekly",label:(0,c.__)("Weekly","custom-post-type-widget-blocks")},{value:"daily",label:(0,c.__)("Daily","custom-post-type-widget-blocks")}],value:i,onChange:e=>t({archiveType:e})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display as Dropdown","custom-post-type-widget-blocks"),checked:l,onChange:()=>t({displayAsDropdown:!l})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Show Post Counts","custom-post-type-widget-blocks"),checked:s,onChange:()=>t({showPostCounts:!s})}),(0,d.jsx)(g.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,c.__)("Order","custom-post-type-widget-blocks"),options:[{value:"DESC",label:(0,c.__)("DESC","custom-post-type-widget-blocks")},{value:"ASC",label:(0,c.__)("ASC","custom-post-type-widget-blocks")}],value:a,onChange:e=>t({order:e})})]})}),(0,d.jsx)("div",{...(0,h.useBlockProps)(),children:(0,d.jsx)(g.Disabled,{children:(0,d.jsx)(_(),{block:"custom-post-type-widget-blocks/archives",skipBlockSupportAttributes:!0,attributes:e})})})]})}},v=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/calendar","title":"Calendar (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"A calendar of your siteâ€™s posts.","keywords":["posts","archive"],"textdomain":"custom-post-type-widget-blocks","attributes":{"postType":{"type":"string","default":"post"},"month":{"type":"integer"},"year":{"type":"integer"}},"supports":{"align":["wide","full"],"color":{"link":true,"__experimentalSkipSerialization":["text","background"],"__experimentalDefaultControls":{"background":true,"text":true},"__experimentalSelector":"table, th"},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"interactivity":{"clientNavigation":true}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),S=function(e,t){var o,s,l=0;function i(){var i,a,r=o,n=arguments.length;e:for(;r;){if(r.args.length===arguments.length){for(a=0;a<n;a++)if(r.args[a]!==arguments[a]){r=r.next;continue e}return r!==o&&(r===s&&(s=r.prev),r.prev.next=r.next,r.next&&(r.next.prev=r.prev),r.next=o,r.prev=null,o.prev=r,o=r),r.val}r=r.next}for(i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r={args:i,val:e.apply(null,i)},o?(o.prev=r,r.next=o):s=r,l===t.maxSize?(s=s.prev).next=null:l++,o=r,r.val}return t=t||{},i.clear=function(){o=null,s=null,l=0},i}((e=>{if(!e)return{};const t=new Date(e);return{year:t.getFullYear(),month:t.getMonth()+1}})),{name:j}=f,C={icon:v,example:{},edit:function({attributes:e,setAttributes:t}){const{postType:o}=e,{postTypes:s}=(0,b.useSelect)((e=>({postTypes:e(w.store).getPostTypes({per_page:-1})})),[]),l=(0,h.useBlockProps)(),{date:i,hasPosts:a,hasPostsResolved:r}=(0,b.useSelect)((e=>{const{getEntityRecords:t,hasFinishedResolution:s}=e(w.store),l={status:"publish",per_page:1},i=t("postType",o,l),a=s("getEntityRecords",["postType",o,l]);let r;const n=e("core/editor");return n&&"post"===n.getEditedPostAttribute("type")&&(r=n.getEditedPostAttribute("date")),{date:r,hasPostsResolved:a,hasPosts:a&&1===i?.length}}),[o]);return(0,d.jsxs)("div",{...l,children:[(0,d.jsx)(h.InspectorControls,{children:(0,d.jsx)(g.PanelBody,{title:(0,c.__)("Calendar settings","custom-post-type-widget-blocks"),children:(0,d.jsx)(g.SelectControl,{label:(0,c.__)("Post Type","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("- Select -","custom-post-type-widget-blocks"),value:"",disabled:!0},...(null!=s?s:[]).filter((e=>!!e.viewable&&!e.hierarchical&&"attachment"!==e.slug)).map((e=>({value:e.slug,label:e.name})))],value:o,onChange:e=>t({postType:e})})})}),(0,d.jsx)(g.Disabled,{children:(0,d.jsx)(_(),{block:"custom-post-type-widget-blocks/calendar",attributes:{...e,...S(i)}})})]})}},T=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),B=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/categories","title":"Categories (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"Display a list of all categories.","keywords":[],"textdomain":"custom-post-type-widget-blocks","attributes":{"taxonomy":{"type":"string","default":"category"},"displayAsDropdown":{"type":"boolean","default":false},"showHierarchy":{"type":"boolean","default":false},"showPostCounts":{"type":"boolean","default":false},"showOnlyTopLevel":{"type":"boolean","default":false},"showEmpty":{"type":"boolean","default":false}},"supports":{"align":["wide","full"],"html":false,"spacing":{"margin":true,"padding":true,"__experimentalDefaultControls":{"margin":false,"padding":false}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"interactivity":{"clientNavigation":true},"__experimentalBorder":{"radius":true,"color":true,"width":true,"style":true,"__experimentalDefaultControls":{"radius":true,"color":true,"width":true,"style":true}}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}');function P(e){var t,o,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(o=P(e[t]))&&(s&&(s+=" "),s+=o)}else for(o in e)e[o]&&(s&&(s+=" "),s+=o);return s}const z=function(){for(var e,t,o=0,s="",l=arguments.length;o<l;o++)(e=arguments[o])&&(t=P(e))&&(s&&(s+=" "),s+=t);return s},H=window.wp.compose,N=window.wp.htmlEntities,D=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})}),{name:I}=B,R={icon:T,example:{},edit:function e({attributes:{taxonomy:t,displayAsDropdown:o,showHierarchy:s,showPostCounts:l,showOnlyTopLevel:i,showEmpty:a},setAttributes:r,className:n}){const p=(0,H.useInstanceId)(e,"wp-block-custom-post-type-widget-blocks-category-select"),u={per_page:-1,hide_empty:!a,context:"view"};i&&(u.parent=0);const{records:m,isResolving:y}=(0,w.useEntityRecords)("taxonomy",t,u),_=(0,b.useSelect)((e=>e(w.store).getTaxonomies({per_page:-1})),[]),x=e=>null===m?[]:m?.length?null===e?m:m.filter((({parent:t})=>t===e)):[],k=e=>t=>r({[e]:t}),v=e=>e?(0,N.decodeEntities)(e).trim():(0,c.__)("(Untitled)","custom-post-type-widget-blocks"),f=(e,t)=>{const o=x(e.id),{id:i,link:a,count:r,name:n}=e;return(0,d.jsxs)("li",{className:`cat-item cat-item-${i}`,children:[(0,d.jsx)("a",{href:a,target:"_blank",rel:"noreferrer noopener",children:v(n)}),l&&(0,d.jsx)("span",{className:"wp-block-custom-post-type-widget-blocks-categories__post-count",children:` (${r})`}),s&&!!o.length&&(0,d.jsx)("ul",{className:`children level-${t+1}`,children:o.map((e=>f(e,t+1)))})]},i)},S=(e,t)=>{const{id:o,count:i,name:a}=e,r=x(o);return[(0,d.jsxs)("option",{className:`level-${t}`,children:[Array.from({length:3*t}).map((()=>"Â ")),v(a),l&&` (${i})`]},o),s&&!!r.length&&r.map((e=>S(e,t+1)))]},j=!m?.length||o||y?"div":"ul",C=z(n,{"wp-block-custom-post-type-widget-blocks-categories":!0,"wp-block-custom-post-type-widget-blocks-categories-list":!!m?.length&&!o&&!y,"wp-block-custom-post-type-widget-blocks-categories-dropdown":!!m?.length&&o&&!y}),T=(0,h.useBlockProps)({className:C});return(0,d.jsxs)(j,{...T,children:[(0,d.jsx)(h.InspectorControls,{children:(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Categories settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Taxonomy (slug)","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("- Select -","custom-post-type-widget-blocks"),value:"",disabled:!0},...(null!=_?_:[]).filter((e=>!!e.show_cloud&&!!e.hierarchical)).map((e=>({value:e.slug,label:e.name+" ("+e.slug+")"})))],value:t,onChange:k("taxonomy")}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display as Dropdown","custom-post-type-widget-blocks"),checked:o,onChange:k("displayAsDropdown")}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Show Post Counts","custom-post-type-widget-blocks"),checked:l,onChange:k("showPostCounts")}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Show only top level categories","custom-post-type-widget-blocks"),checked:i,onChange:k("showOnlyTopLevel")}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Show empty categories","custom-post-type-widget-blocks"),checked:a,onChange:k("showEmpty")}),!i&&(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Show hierarchy","custom-post-type-widget-blocks"),checked:s,onChange:k("showHierarchy")})]})}),y&&(0,d.jsx)(g.Placeholder,{icon:D,label:(0,c.__)("Categories (Custom Post Type)","custom-post-type-widget-blocks"),children:(0,d.jsx)(g.Spinner,{})}),!y&&(null===m||0===m.length)&&(0,d.jsx)("p",{children:(0,c.__)("Your site does not have any posts, so there is nothing to display here at the moment.","custom-post-type-widget-blocks")}),(0,d.jsx)(g.Disabled,{children:!y&&null!==m&&m.length>0&&(o?(()=>{const e=x(s?0:null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.VisuallyHidden,{as:"label",htmlFor:p,children:(0,c.__)("Categories","custom-post-type-widget-blocks")}),(0,d.jsxs)("select",{id:p,className:"wp-block-custom-post-type-widget-blocks-categories__dropdown",children:[(0,d.jsx)("option",{children:(0,c.__)("Select Category","custom-post-type-widget-blocks")}),e.map((e=>S(e,0)))]})]})})():x(s?0:null).map((e=>f(e,0))))})]})}},M=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12.9c0 .6.5 1.1 1.1 1.1.3 0 .5-.1.8-.3L8.5 17H18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5H7.9l-2.4 2.4V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v9z"})}),F=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/latest-comments","title":"Latest Comments (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"Display a list of your most recent comments.","keywords":["recent comments"],"textdomain":"custom-post-type-widget-blocks","attributes":{"postType":{"type":"string","default":"any"},"commentsToShow":{"type":"number","default":5,"minimum":1,"maximum":100},"displayAvatar":{"type":"boolean","default":true},"displayDate":{"type":"boolean","default":true},"displayExcerpt":{"type":"boolean","default":true}},"supports":{"align":["wide","full"],"html":false,"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true,"link":true}},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"interactivity":{"clientNavigation":true}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),{name:V}=F,A={icon:M,example:{},edit:function({attributes:e,setAttributes:t}){const{postType:o,commentsToShow:s,displayAvatar:l,displayDate:i,displayExcerpt:a}=e,r={...e,style:{...e?.style,spacing:void 0}},{postTypes:n}=(0,b.useSelect)((e=>({postTypes:e(w.store).getPostTypes({per_page:-1})})),[]);return(0,d.jsxs)("div",{...(0,h.useBlockProps)(),children:[(0,d.jsx)(h.InspectorControls,{children:(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Latest comments settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Post Type","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("All","custom-post-type-widget-blocks"),value:"any"},...(null!=n?n:[]).filter((e=>!!e.viewable&&!e.hierarchical&&"attachment"!==e.slug)).map((e=>({value:e.slug,label:e.name})))],value:o,onChange:e=>t({postType:e})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display Avatar","custom-post-type-widget-blocks"),checked:l,onChange:()=>t({displayAvatar:!l})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display Date","custom-post-type-widget-blocks"),checked:i,onChange:()=>t({displayDate:!i})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display Excerpt","custom-post-type-widget-blocks"),checked:a,onChange:()=>t({displayExcerpt:!a})}),(0,d.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Number of Comments","custom-post-type-widget-blocks"),value:s,onChange:e=>t({commentsToShow:e}),min:1,max:100,required:!0})]})}),(0,d.jsx)(g.Disabled,{children:(0,d.jsx)(_(),{block:"custom-post-type-widget-blocks/latest-comments",attributes:r,urlQueryArgs:{_locale:"site"}})})]})}},L=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"})}),O=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/latest-posts","title":"Latest Posts (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"Display a list of your most recent posts.","keywords":["recent posts"],"textdomain":"custom-post-type-widget-blocks","attributes":{"postType":{"type":"string","default":"post"},"taxonomy":{"type":"string","default":"category"},"categories":{"type":"array","items":{"type":"object"}},"selectedAuthor":{"type":"number"},"postsToShow":{"type":"number","default":5},"displayPostContent":{"type":"boolean","default":false},"displayPostContentRadio":{"type":"string","default":"excerpt"},"excerptLength":{"type":"number","default":55},"displayAuthor":{"type":"boolean","default":false},"displayPostDate":{"type":"boolean","default":false},"postLayout":{"type":"string","default":"list","enum":["list","grid"]},"columns":{"type":"number","default":3},"order":{"type":"string","default":"desc"},"orderBy":{"type":"string","default":"date"},"displayFeaturedImage":{"type":"boolean","default":false},"featuredImageAlign":{"type":"string","enum":["left","center","right"]},"featuredImageSizeSlug":{"type":"string","default":"thumbnail"},"featuredImageSizeWidth":{"type":"number","default":null},"featuredImageSizeHeight":{"type":"number","default":null},"addLinkToFeaturedImage":{"type":"boolean","default":false},"featuredImageId":{"type":"number"}},"supports":{"align":["wide","full"],"html":false,"color":{"gradients":true,"link":true,"__experimentalDefaultControls":{"background":true,"text":true,"link":true}},"spacing":{"margin":true,"padding":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"interactivity":{"clientNavigation":true}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),E=window.wp.date,U=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM5 9h14v6H5V9Z"})}),W=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M5 5.5h8V4H5v1.5ZM5 20h8v-1.5H5V20ZM19 9H5v6h14V9Z"})}),G=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M19 5.5H5V4h14v1.5ZM19 20H5v-1.5h14V20ZM7 9h10v6H7V9Z"})}),$=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M19 5.5h-8V4h8v1.5ZM19 20h-8v-1.5h8V20ZM5 9h14v6H5V9Z"})}),Z=(0,d.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)(p.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"})}),J=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})}),q=window.wp.notices,Q=window.wp.element,Y={per_page:-1,context:"view"},X={per_page:-1,has_published_posts:["post"],context:"view"},{attributes:K}=O,ee=[{attributes:{...K,categories:{type:"string"}},supports:{align:!0,html:!1},migrate:e=>({...e,categories:[{id:Number(e.categories)}]}),isEligible:({categories:e})=>e&&"string"==typeof e,save:()=>null}],{name:te}=O,oe={icon:L,example:{},edit:function e({attributes:t,setAttributes:o}){var s;const l=(0,H.useInstanceId)(e),{postType:i,postsToShow:a,order:r,orderBy:n,categories:p,selectedAuthor:u,displayFeaturedImage:m,displayPostContentRadio:y,displayPostContent:_,displayPostDate:x,displayAuthor:k,postLayout:v,columns:f,excerptLength:S,featuredImageAlign:j,featuredImageSizeSlug:C,featuredImageSizeWidth:T,featuredImageSizeHeight:B,addLinkToFeaturedImage:P,featuredImageId:N}=t,{imageSizes:I,latestPosts:R,defaultImageWidth:M,defaultImageHeight:F,categoriesList:V,authorList:A,postTypes:L,featuredImageObj:O}=(0,b.useSelect)((e=>{var t,o;const{getEntityRecords:s,getUsers:l,getMedia:c}=e(w.store),d=e(h.store).getSettings(),m=p&&p.length>0?p.map((e=>e.id)):[],g={author:u,order:r,orderby:n,per_page:a,_embed:"wp:featuredmedia"};let y;y=void 0,"post"===i?(g[p]=m,y="category"):(g[y]=p,y="category");const _=Object.fromEntries(Object.entries(g).filter((([,e])=>void 0!==e)));return{defaultImageWidth:null!==(t=d.imageDimensions?.[C]?.width)&&void 0!==t?t:0,defaultImageHeight:null!==(o=d.imageDimensions?.[C]?.height)&&void 0!==o?o:0,imageSizes:d.imageSizes,latestPosts:s("postType",i,_),categoriesList:s("taxonomy",y,Y),authorList:l(X),postTypes:e(w.store).getPostTypes({per_page:-1}),featuredImageObj:N?c(N,{context:"view"}):null}}),[C,a,r,n,p,u,i,N]),{createWarningNotice:K,removeNotice:ee}=(0,b.useDispatch)(q.store);let te;const oe=e=>{e.preventDefault(),ee(te),te=`block-library/core/latest-posts/redirection-prevented/${l}`,K((0,c.__)("Links are disabled in the editor.","custom-post-type-widget-blocks"),{id:te,type:"snackbar"})},se=I.filter((({slug:e})=>"full"!==e)).map((({name:e,slug:t})=>({value:t,label:e}))),le=null!==(s=V?.reduce(((e,t)=>({...e,[t.name]:t})),{}))&&void 0!==s?s:{},ie=[{value:"none",icon:U,label:(0,c.__)("None")},{value:"left",icon:W,label:(0,c.__)("Left")},{value:"center",icon:G,label:(0,c.__)("Center")},{value:"right",icon:$,label:(0,c.__)("Right")}],ae="image",re="video",ne=!!R?.length,ce=(0,d.jsxs)(h.InspectorControls,{children:[(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Post content settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Post content","custom-post-type-widget-blocks"),checked:_,onChange:e=>o({displayPostContent:e})}),_&&(0,d.jsx)(g.RadioControl,{label:(0,c.__)("Show:","custom-post-type-widget-blocks"),selected:y,options:[{label:(0,c.__)("Excerpt","custom-post-type-widget-blocks"),value:"excerpt"},{label:(0,c.__)("Full post","custom-post-type-widget-blocks"),value:"full_post"}],onChange:e=>o({displayPostContentRadio:e})}),_&&"excerpt"===y&&(0,d.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Max number of words in excerpt","custom-post-type-widget-blocks"),value:S,onChange:e=>o({excerptLength:e}),min:10,max:100})]}),(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Post meta settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display author name","custom-post-type-widget-blocks"),checked:k,onChange:e=>o({displayAuthor:e})}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display post date","custom-post-type-widget-blocks"),checked:x,onChange:e=>o({displayPostDate:e})})]}),(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Featured image settings","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Display featured image","custom-post-type-widget-blocks"),checked:m,onChange:e=>o({displayFeaturedImage:e})}),m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.__experimentalImageSizeControl,{onChange:e=>{const t={};e.hasOwnProperty("width")&&(t.featuredImageSizeWidth=e.width),e.hasOwnProperty("height")&&(t.featuredImageSizeHeight=e.height),o(t)},slug:C,width:T,height:B,imageWidth:M,imageHeight:F,imageSizeOptions:se,imageSizeHelp:(0,c.__)("Select the size of the source image.","custom-post-type-widget-blocks"),onChangeImage:e=>o({featuredImageSizeSlug:e,featuredImageSizeWidth:void 0,featuredImageSizeHeight:void 0})}),(0,d.jsx)(g.__experimentalToggleGroupControl,{className:"editor-latest-posts-image-alignment-control",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Image alignment","custom-post-type-widget-blocks"),value:j||"none",onChange:e=>o({featuredImageAlign:"none"!==e?e:void 0}),children:ie.map((({value:e,icon:t,label:o})=>(0,d.jsx)(g.__experimentalToggleGroupControlOptionIcon,{value:e,icon:t,label:o},e)))}),(0,d.jsx)(g.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Add link to featured image","custom-post-type-widget-blocks"),checked:P,onChange:e=>o({addLinkToFeaturedImage:e})}),(0,d.jsxs)(g.BaseControl,{className:"block-editor-post-featured-image-control__row",children:[(0,d.jsx)(g.BaseControl.VisualLabel,{children:(0,c.__)("Featured image","custom-post-type-widget-blocks")}),(0,d.jsx)(h.MediaUploadCheck,{children:(0,d.jsx)(h.MediaUpload,{title:(0,c.__)("Featured image","custom-post-type-widget-blocks"),onSelect:e=>{if(!e||!e.url)return void o({featuredImageUrl:void 0,featuredImageId:void 0});let t;if(e.media_type)t=e.media_type===ae?ae:re;else{if(e.type!==ae&&e.type!==re)return;t=e.type}o({featuredImageId:e.id})},allowedTypes:["image"],modalClass:"editor-post-featured-image__media-modal",value:N,render:({open:e})=>(0,d.jsx)("div",{className:"editor-post-featured-image__container",children:(0,d.jsxs)(g.Button,{className:N?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,children:[!!N&&O&&(0,d.jsx)(g.ResponsiveWrapper,{naturalWidth:O.media_details.sizes.thumbnail.width,naturalHeight:O.media_details.sizes.thumbnail.height,isInline:!0,children:(0,d.jsx)("img",{src:O.media_details.sizes.thumbnail.source_url,alt:""})}),!N&&(0,c.__)("Set featured image","custom-post-type-widget-blocks")]})})})}),!!N&&(0,d.jsx)(h.MediaUploadCheck,{children:(0,d.jsx)(g.Button,{onClick:()=>{o({featuredImageId:void 0})},variant:"link",isDestructive:!0,children:(0,c.__)("Remove image","custom-post-type-widget-blocks")})})]})]})]}),(0,d.jsxs)(g.PanelBody,{title:(0,c.__)("Sorting and filtering","custom-post-type-widget-blocks"),children:[(0,d.jsx)(g.SelectControl,{label:(0,c.__)("Post Type","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("All","custom-post-type-widget-blocks"),value:"any"},...(null!=L?L:[]).filter((e=>!!e.viewable&&!e.hierarchical&&"attachment"!==e.slug)).map((e=>({value:e.slug,label:e.name})))],value:i,onChange:e=>o({postType:e})}),(0,d.jsx)(g.QueryControls,{order:r,orderBy:n,numberOfItems:a,onOrderChange:e=>o({order:e}),onOrderByChange:e=>o({orderBy:e}),onNumberOfItemsChange:e=>o({postsToShow:e}),categorySuggestions:le,onCategoryChange:e=>{if(e.some((e=>"string"==typeof e&&!le[e])))return;const t=e.map((e=>"string"==typeof e?le[e]:e));if(t.includes(null))return!1;o({categories:t})},selectedCategories:p,onAuthorChange:e=>o({selectedAuthor:""!==e?Number(e):void 0}),authorList:null!=A?A:[],selectedAuthorId:u}),"grid"===v&&(0,d.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Columns","custom-post-type-widget-blocks"),value:f,onChange:e=>o({columns:e}),min:2,max:ne?Math.min(6,R.length):6,required:!0})]})]}),pe=(0,h.useBlockProps)({className:z({"wp-block-custom-post-type-widget-blocks-latest-posts__list":!0,"is-grid":"grid"===v,"has-dates":x,"has-author":k,[`columns-${f}`]:"grid"===v})});if(!ne&&"any"!==i)return(0,d.jsxs)("div",{...pe,children:[ce,(0,d.jsx)(g.Placeholder,{icon:D,label:(0,c.__)("Latest Posts (Custom Post Type)","custom-post-type-widget-blocks"),children:Array.isArray(R)?(0,c.__)("No posts found.","custom-post-type-widget-blocks"):(0,d.jsx)(g.Spinner,{})})]});const de=R&&R.length>a?R.slice(0,a):R,ue=[{icon:Z,title:(0,c.__)("List view","custom-post-type-widget-blocks"),onClick:()=>o({postLayout:"list"}),isActive:"list"===v},{icon:J,title:(0,c.__)("Grid view","custom-post-type-widget-blocks"),onClick:()=>o({postLayout:"grid"}),isActive:"grid"===v}],me=(0,E.getSettings)().formats.date;return"any"===i?(0,d.jsxs)("div",{...pe,children:[ce,(0,d.jsx)(h.BlockControls,{children:(0,d.jsx)(g.ToolbarGroup,{controls:ue})}),(0,d.jsx)(g.Placeholder,{icon:D,label:(0,c.__)("Latest Posts (Custom Post Type)","custom-post-type-widget-blocks"),children:(0,c.__)("Not displayed if postType is All.","custom-post-type-widget-blocks")})]}):(0,d.jsxs)("div",{children:[ce,(0,d.jsx)(h.BlockControls,{children:(0,d.jsx)(g.ToolbarGroup,{controls:ue})}),(0,d.jsx)("ul",{...pe,children:de.map(((e,t)=>{const o=e.title.rendered.trim();let s=e.excerpt.rendered;const l=A?.find((t=>t.id===e.author)),i=document.createElement("div");i.innerHTML=s,s=i.textContent||i.innerText||"";const{url:a,alt:r}=function(e,t){var o;const s=e._embedded?.["wp:featuredmedia"]?.[0];return{url:null!==(o=s?.media_details?.sizes?.[t]?.source_url)&&void 0!==o?o:s?.source_url,alt:s?.alt_text}}(e,C),n=z({"wp-block-custom-post-type-widget-blocks-latest-posts__featured-image":!0,[`align${j}`]:!!j}),p=m&&(a||O),u=p&&(0,d.jsx)("img",{src:a||(O?.media_details?.sizes?.[C]?.source_url?O.media_details.sizes[C].source_url:O?.media_details?.sizes?.full?.source_url?O.media_details.sizes.full.source_url:""),alt:r,style:{width:T&&B?"100%":"",maxWidth:T,maxHeight:B}}),h=S<s.trim().split(" ").length&&""===e.excerpt.raw?(0,d.jsxs)(d.Fragment,{children:[s.trim().split(" ",S).join(" "),(0,Q.createInterpolateElement)((0,c.sprintf)(/* translators: 1: Hidden accessibility text: Post title */ /* translators: 1: Hidden accessibility text: Post title */
(0,c.__)("â€¦ <a>Read more<span>: %1$s</span></a>","custom-post-type-widget-blocks"),o||(0,c.__)("(no title)","custom-post-type-widget-blocks")),{a:(0,d.jsx)("a",{className:"wp-block-latest-posts__read-more",href:e.link,rel:"noopener noreferrer",onClick:oe}),span:(0,d.jsx)("span",{className:"screen-reader-text"})})]}):s;return(0,d.jsx)("li",{children:(0,d.jsxs)(g.Disabled,{children:[p&&(0,d.jsx)("div",{className:n,children:P?(0,d.jsx)("a",{href:e.link,rel:"noreferrer noopener",onClick:oe,children:u}):u}),(0,d.jsx)("a",{className:"wp-block-latest-posts__post-title",href:e.link,rel:"noreferrer noopener",dangerouslySetInnerHTML:o?{__html:o}:void 0,onClick:oe,children:o?null:(0,c.__)("(no title)","custom-post-type-widget-blocks")}),k&&l&&(0,d.jsx)("div",{className:"wp-block-latest-posts__post-author",children:(0,c.sprintf)(/* translators: byline. %s: current author. */ /* translators: byline. %s: current author. */
(0,c.__)("by %s","custom-post-type-widget-blocks"),l.name)}),x&&e.date_gmt&&(0,d.jsx)("time",{dateTime:(0,E.format)("c",e.date_gmt),className:"wp-block-custom-post-type-widget-blocks-latest-posts__post-date",children:(0,E.dateI18n)(me,e.date_gmt)}),_&&"excerpt"===y&&(0,d.jsx)("div",{className:"wp-block-custom-post-type-widget-blocks-latest-posts__post-excerpt",children:h}),_&&"full_post"===y&&(0,d.jsx)("div",{className:"wp-block-custom-post-type-widget-blocks-latest-posts__post-full-content",dangerouslySetInnerHTML:{__html:e.content.raw.trim()}})]})},e.id)}))})]})},deprecated:ee},se=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),le=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/search","title":"Search (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"Help visitors find your content.","keywords":["find"],"textdomain":"custom-post-type-widget-blocks","attributes":{"postType":{"type":"string","default":"any"},"label":{"type":"string","__experimentalRole":"content"},"showLabel":{"type":"boolean","default":true},"placeholder":{"type":"string","default":"","__experimentalRole":"content"},"width":{"type":"number"},"widthUnit":{"type":"string"},"buttonText":{"type":"string","__experimentalRole":"content"},"buttonPosition":{"type":"string","default":"button-outside"},"buttonUseIcon":{"type":"boolean","default":false},"query":{"type":"object","default":{}},"isSearchFieldHidden":{"type":"boolean","default":false}},"supports":{"align":["left","center","right"],"color":{"gradients":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"background":true,"text":true}},"interactivity":true,"typography":{"__experimentalSkipSerialization":true,"__experimentalSelector":".wp-block-search__label, .wp-block-search__input, .wp-block-search__button","fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"__experimentalBorder":{"color":true,"radius":true,"width":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"color":true,"radius":true,"width":true}},"spacing":{"margin":true},"html":false},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),ie=(0,Q.forwardRef)((function({icon:e,size:t=24,...o},s){return(0,Q.cloneElement)(e,{width:t,height:t,...o,ref:s})})),ae=window.wp.dom,re=(0,d.jsx)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(g.Rect,{x:"7",y:"10",width:"10",height:"4",rx:"1",fill:"currentColor"})}),ne=(0,d.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,d.jsx)(g.Rect,{x:"4.75",y:"15.25",width:"6.5",height:"9.5",transform:"rotate(-90 4.75 15.25)",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,d.jsx)(g.Rect,{x:"16",y:"10",width:"4",height:"4",rx:"1",fill:"currentColor"})]}),ce=(0,d.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,d.jsx)(g.Rect,{x:"4.75",y:"15.25",width:"6.5",height:"14.5",transform:"rotate(-90 4.75 15.25)",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,d.jsx)(g.Rect,{x:"14",y:"10",width:"4",height:"4",rx:"1",fill:"currentColor"})]}),pe=(0,d.jsx)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(g.Rect,{x:"4.75",y:"15.25",width:"6.5",height:"14.5",transform:"rotate(-90 4.75 15.25)",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})}),de=(0,d.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,d.jsx)(g.Rect,{x:"4.75",y:"7.75",width:"14.5",height:"8.5",rx:"1.25",stroke:"currentColor",fill:"none",strokeWidth:"1.5"}),(0,d.jsx)(g.Rect,{x:"8",y:"11",width:"8",height:"2",fill:"currentColor"})]}),ue=(0,d.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,d.jsx)(g.Rect,{x:"4.75",y:"17.25",width:"5.5",height:"14.5",transform:"rotate(-90 4.75 17.25)",stroke:"currentColor",fill:"none",strokeWidth:"1.5"}),(0,d.jsx)(g.Rect,{x:"4",y:"7",width:"10",height:"2",fill:"currentColor"})]});function me(e){return"%"===e}const ge=[{name:"default",isDefault:!0,attributes:{buttonText:(0,c.__)("Search","custom-post-type-widget-blocks"),label:(0,c.__)("Search","custom-post-type-widget-blocks")}}],{name:he}=le,ye={icon:se,example:{},variations:ge,edit:function({className:e,attributes:t,setAttributes:o,toggleSelection:s,isSelected:l,clientId:i}){const{postType:a,label:r,showLabel:n,placeholder:p,width:u,widthUnit:m,align:y,buttonText:_,buttonPosition:x,buttonUseIcon:k,isSearchFieldHidden:v,style:f}=t,{postTypes:S}=(0,b.useSelect)((e=>({postTypes:e(w.store).getPostTypes({per_page:-1})})),[]),j=(0,b.useSelect)((e=>{const{getBlockParentsByBlockName:t,wasBlockJustInserted:o}=e(h.store);return!!t(i,"core/navigation")?.length&&o(i)}),[i]),{__unstableMarkNextChangeAsNotPersistent:C}=(0,b.useDispatch)(h.store);(0,Q.useEffect)((()=>{j&&(C(),o({showLabel:!1,buttonUseIcon:!0,buttonPosition:"button-inside"}))}),[C,j,o]);const T=f?.border?.radius;let B=(0,h.__experimentalUseBorderProps)(t);"number"==typeof T&&(B={...B,style:{...B.style,borderRadius:`${T}px`}});const P=(0,h.__experimentalUseColorProps)(t),[N,D]=(0,h.useSettings)("typography.fluid","layout"),I=(0,h.getTypographyClassesAndStyles)(t,{typography:{fluid:N},layout:{wideSize:D?.wideSize}}),R=`wp-block-custom-post-type-widget-blocks-search__width-${(0,H.useInstanceId)(g.__experimentalUnitControl)}`,M="button-inside"===x,F="button-outside"===x,V="no-button"===x,A="button-only"===x,L=(0,Q.useRef)(),O=(0,Q.useRef)(),E=(0,g.__experimentalUseCustomUnits)({availableUnits:["%","px"],defaultValues:{"%":50,px:350}});(0,Q.useEffect)((()=>{A&&!l&&o({isSearchFieldHidden:!0})}),[A,l,o]),(0,Q.useEffect)((()=>{A&&l&&o({isSearchFieldHidden:!1})}),[A,l,o,u]);const U=[{role:"menuitemradio",title:(0,c.__)("Button outside","custom-post-type-widget-blocks"),isActive:"button-outside"===x,icon:ne,onClick:()=>{o({buttonPosition:"button-outside",isSearchFieldHidden:!1})}},{role:"menuitemradio",title:(0,c.__)("Button inside","custom-post-type-widget-blocks"),isActive:"button-inside"===x,icon:ce,onClick:()=>{o({buttonPosition:"button-inside",isSearchFieldHidden:!1})}},{role:"menuitemradio",title:(0,c.__)("No button","custom-post-type-widget-blocks"),isActive:"no-button"===x,icon:pe,onClick:()=>{o({buttonPosition:"no-button",isSearchFieldHidden:!1})}},{role:"menuitemradio",title:(0,c.__)("Button only","custom-post-type-widget-blocks"),isActive:"button-only"===x,icon:re,onClick:()=>{o({buttonPosition:"button-only",isSearchFieldHidden:!0})}}],W=()=>{const e=z("wp-block-search__input wp-block-custom-post-type-widget-blocks-search__input",M?void 0:B.className,I.className),t={...M?{borderRadius:T}:B.style,...I.style,textDecoration:void 0};return(0,d.jsx)("input",{type:"search",className:e,style:t,"aria-label":(0,c.__)("Optional placeholder text","custom-post-type-widget-blocks"),placeholder:p?void 0:(0,c.__)("Optional placeholderâ€¦","custom-post-type-widget-blocks"),value:p,onChange:e=>o({placeholder:e.target.value}),ref:L})},G=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.BlockControls,{children:(0,d.jsxs)(g.ToolbarGroup,{children:[(0,d.jsx)(g.ToolbarButton,{title:(0,c.__)("Toggle search label","custom-post-type-widget-blocks"),icon:ue,onClick:()=>{o({showLabel:!n})},className:n?"is-pressed":void 0}),(0,d.jsx)(g.ToolbarDropdownMenu,{icon:(()=>{switch(x){case"button-inside":return ce;case"button-outside":return ne;case"no-button":return pe;case"button-only":return re}})(),label:(0,c.__)("Change button position","custom-post-type-widget-blocks"),controls:U}),!V&&(0,d.jsx)(g.ToolbarButton,{title:(0,c.__)("Use button with icon","custom-post-type-widget-blocks"),icon:de,onClick:()=>{o({buttonUseIcon:!k})},className:k?"is-pressed":void 0})]})}),(0,d.jsx)(h.InspectorControls,{children:(0,d.jsx)(g.PanelBody,{title:(0,c.__)("Search settings","custom-post-type-widget-blocks"),children:(0,d.jsxs)(g.__experimentalVStack,{className:"wp-block-search__inspector-controls",spacing:4,children:[(0,d.jsx)(g.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Post Type","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("All","custom-post-type-widget-blocks"),value:"any"},...(null!=S?S:[]).filter((e=>!!e.viewable&&!e.hierarchical&&"attachment"!==e.slug)).map((e=>({value:e.slug,label:e.name})))],value:a,onChange:e=>o({postType:e})}),(0,d.jsx)(g.__experimentalUnitControl,{__next40pxDefaultSize:!0,label:(0,c.__)("Width","custom-post-type-widget-blocks"),id:R,min:me(m)?0:220,max:me(m)?100:void 0,step:1,onChange:e=>{const t="%"===m&&parseInt(e,10)>100?100:e;o({width:parseInt(t,10)})},onUnitChange:e=>{o({width:"%"===e?50:350,widthUnit:e})},__unstableInputWidth:"80px",value:`${u}${m}`,units:E}),(0,d.jsx)(g.ButtonGroup,{className:"wp-block-custom-post-type-widget-blocks-search__components-button-group","aria-label":(0,c.__)("Percentage Width","custom-post-type-widget-blocks"),children:[25,50,75,100].map((e=>(0,d.jsxs)(g.Button,{size:"small",variant:e===u&&"%"===m?"primary":void 0,onClick:()=>o({width:e,widthUnit:"%"}),children:[e,"%"]},e)))})]})})})]}),$=e=>e?`calc(${e} + 4px)`:void 0,Z=(0,h.useBlockProps)({className:z(e,M?"wp-block-custom-post-type-widget-blocks-search__button-inside":void 0,F?"wp-block-custom-post-type-widget-blocks-search__button-outside":void 0,V?"wp-block-custom-post-type-widget-blocks-search__no-button":void 0,A?"wp-block-custom-post-type-widget-blocks-search__button-only":void 0,k||V?void 0:"wp-block-custom-post-type-widget-blocks-search__text-button",k&&!V?"wp-block-custom-post-type-widget-blocks-search__icon-button":void 0,A&&v?"wp-block-search__searchfield-hidden":void 0,M?"wp-block-search__button-inside":void 0,F?"wp-block-search__button-outside":void 0,V?"wp-block-blocks-search__no-button":void 0,A?"wp-block-search__button-only":void 0,k||V?void 0:"wp-block-search__text-button",k&&!V?"wp-block-search__icon-button":void 0,"wp-block-search"),style:{...I.style,textDecoration:void 0}}),J=z("wp-block-custom-post-type-widget-blocks-search__label",I.className);return(0,d.jsxs)("div",{...Z,children:[G,n&&(0,d.jsx)(h.RichText,{identifier:"label",className:J,"aria-label":(0,c.__)("Label text","custom-post-type-widget-blocks"),placeholder:(0,c.__)("Add labelâ€¦","custom-post-type-widget-blocks"),withoutInteractiveFormatting:!0,value:r,onChange:e=>o({label:e}),style:I.style}),(0,d.jsxs)(g.ResizableBox,{size:{width:`${u}${m}`},className:z("wp-block-search__inside-wrapper wp-block-custom-post-type-widget-blocks-search__inside-wrapper",M?B.className:void 0),style:(()=>{const e=M?B.style:{borderRadius:B.style?.borderRadius,borderTopLeftRadius:B.style?.borderTopLeftRadius,borderTopRightRadius:B.style?.borderTopRightRadius,borderBottomLeftRadius:B.style?.borderBottomLeftRadius,borderBottomRightRadius:B.style?.borderBottomRightRadius},t=void 0!==T&&0!==parseInt(T,10);if(M&&t){if("object"==typeof T){const{topLeft:t,topRight:o,bottomLeft:s,bottomRight:l}=T;return{...e,borderTopLeftRadius:$(t),borderTopRightRadius:$(o),borderBottomLeftRadius:$(s),borderBottomRightRadius:$(l)}}const t=Number.isInteger(T)?`${T}px`:T;e.borderRadius=`calc(${t} + 4px)`}return e})(),minWidth:220,enable:A?{}:{right:"right"!==y,left:"right"===y},onResizeStart:(e,t,l)=>{o({width:parseInt(l.offsetWidth,10),widthUnit:"px"}),s(!1)},onResizeStop:(e,t,l,i)=>{o({width:parseInt(u+i.width,10)}),s(!0)},showHandle:l,children:[(M||F||A)&&(0,d.jsxs)(d.Fragment,{children:[W(),(()=>{const e=z("wp-block-search__button wp-block-custom-post-type-widget-blocks-search__button",P.className,I.className,M?void 0:B.className,k?"has-icon":void 0,(0,h.__experimentalGetElementClassName)("button")),t={...P.style,...I.style,...M?{borderRadius:T}:B.style},s=()=>{A&&o({isSearchFieldHidden:!v})};return(0,d.jsxs)(d.Fragment,{children:[k&&(0,d.jsx)("button",{type:"button",className:e,style:t,"aria-label":_?(0,ae.__unstableStripHTML)(_):(0,c.__)("Search"),onClick:s,ref:O,children:(0,d.jsx)(ie,{icon:se})}),!k&&(0,d.jsx)(h.RichText,{identifier:"buttonText",className:e,style:t,"aria-label":(0,c.__)("Button text","custom-post-type-widget-blocks"),placeholder:(0,c.__)("Add button textâ€¦","custom-post-type-widget-blocks"),withoutInteractiveFormatting:!0,value:_,onChange:e=>o({buttonText:e}),onClick:s})]})})()]}),V&&W()]})]})}},_e=(0,d.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(p.Path,{d:"M4.75 4a.75.75 0 0 0-.75.75v7.826c0 .2.08.39.22.53l6.72 6.716a2.313 2.313 0 0 0 3.276-.001l5.61-5.611-.531-.53.532.528a2.315 2.315 0 0 0 0-3.264L13.104 4.22a.75.75 0 0 0-.53-.22H4.75ZM19 12.576a.815.815 0 0 1-.236.574l-5.61 5.611a.814.814 0 0 1-1.153 0L5.5 12.264V5.5h6.763l6.5 6.502a.816.816 0 0 1 .237.574ZM8.75 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})}),be=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"custom-post-type-widget-blocks/tag-cloud","title":"Tag Cloud (Custom Post Type)","category":"custom-post-type-widget-blocks","description":"A cloud of your most used tags.","keywords":[],"version":"1.3.0","textdomain":"custom-post-type-widget-blocks","attributes":{"numberOfTags":{"type":"number","default":45,"minimum":1,"maximum":100},"taxonomy":{"type":"string","default":"post_tag"},"showTagCounts":{"type":"boolean","default":false},"smallestFontSize":{"type":"string","default":"8pt"},"largestFontSize":{"type":"string","default":"22pt"}},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"outline","label":"Outline"},{"name":"hash-tag","label":"Hash tag"}],"supports":{"align":["wide","full"],"html":false,"spacing":{"margin":true,"padding":true},"typography":{"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalLetterSpacing":true},"interactivity":{"clientNavigation":true},"__experimentalBorder":{"radius":true,"color":true,"width":true,"style":true,"__experimentalDefaultControls":{"radius":true,"color":true,"width":true,"style":true}}},"editorScript":"custom-post-type-widget-blocks-editor-script","editorStyle":"custom-post-type-widget-blocks-editor-style","style":"custom-post-type-widget-blocks-style"}'),{name:we}=be,xe={icon:_e,example:{},edit:function({attributes:e,setAttributes:t}){const{taxonomy:o,showTagCounts:s,numberOfTags:l,smallestFontSize:i,largestFontSize:a}=e,[r]=(0,h.useSettings)("spacing.units"),n=(0,g.__experimentalUseCustomUnits)({availableUnits:r?[...r,"pt"]:["%","px","em","rem","pt"]}),p=(0,b.useSelect)((e=>e(w.store).getTaxonomies({per_page:-1})),[]),u=(e,o)=>{const[s,l]=(0,g.__experimentalParseQuantityAndUnitFromRawValue)(o);if(!Number.isFinite(s))return;const r={[e]:o};Object.entries({smallestFontSize:i,largestFontSize:a}).forEach((([t,o])=>{const[s,i]=(0,g.__experimentalParseQuantityAndUnitFromRawValue)(o);t!==e&&i!==l&&(r[t]=`${s}${l}`)})),t(r)},m={...e,style:{...e?.style,border:void 0}},y=(0,d.jsx)(h.InspectorControls,{children:(0,d.jsx)(g.PanelBody,{title:(0,c.__)("Tag Cloud settings","custom-post-type-widget-blocks"),children:(0,d.jsxs)(g.__experimentalVStack,{spacing:4,className:"custom-post-type-widget-blocks-tag-cloud__inspector-settings",children:[(0,d.jsx)(g.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Taxonomy (slug)","custom-post-type-widget-blocks"),options:[{label:(0,c.__)("- Select -","custom-post-type-widget-blocks"),value:"",disabled:!0},...(null!=p?p:[]).filter((e=>!!e.show_cloud&&!e.hierarchical)).map((e=>({value:e.slug,label:e.name+" ("+e.slug+")"})))],value:o,onChange:e=>t({taxonomy:e})}),(0,d.jsx)(g.ToggleControl,{label:(0,c.__)("Show tag counts","custom-post-type-widget-blocks"),checked:s,onChange:()=>t({showTagCounts:!s})}),(0,d.jsx)(g.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Number of tags"),value:l,onChange:e=>t({numberOfTags:e}),min:1,max:100,required:!0}),(0,d.jsxs)(g.Flex,{gap:4,children:[(0,d.jsx)(g.FlexItem,{isBlock:!0,children:(0,d.jsx)(g.__experimentalUnitControl,{label:(0,c.__)("Smallest size"),value:i,onChange:e=>{u("smallestFontSize",e)},units:n,min:.1,max:100,size:"__unstable-large"})}),(0,d.jsx)(g.FlexItem,{isBlock:!0,children:(0,d.jsx)(g.__experimentalUnitControl,{label:(0,c.__)("Largest size"),value:a,onChange:e=>{u("largestFontSize",e)},units:n,min:.1,max:100,size:"__unstable-large"})})]})]})})});return(0,d.jsxs)(d.Fragment,{children:[y,(0,d.jsx)("div",{...(0,h.useBlockProps)(),children:(0,d.jsx)(g.Disabled,{children:(0,d.jsx)(_(),{skipBlockSupportAttributes:!0,block:"custom-post-type-widget-blocks/tag-cloud",attributes:m},"tag-cloud")})})]})}};[t,o,s,l,i,a,r].forEach((e=>{if(!e)return;let{metadata:t,settings:o,name:s}=e;t&&(0,n.unstable__bootstrapServerSideBlockDefinitions)({[s]:t}),[t,o]=((e,t)=>(e&&(e.title&&(e.title=(0,c._x)(e.title,"block title","custom-post-type-widget-blocks"),t.title=e.title),e.description&&(e.description=(0,c._x)(e.description,"block description","custom-post-type-widget-blocks"),t.description=e.description),e.keywords&&(e.keywords=(0,c._x)(e.keywords,"custom-post-type-widget-blocks"),t.keywords=e.keywords),e.styles&&(e.styles.forEach(((t,o)=>{e.styles[o].label=(0,c._x)(t.label,"block style label","custom-post-type-widget-blocks")})),t.styles=e.styles)),[e,t]))(t,o),(0,n.registerBlockType)({name:s,...t},o)}))})();